{{define "content"}}
<h1 class="h1">Admin: Books</h1>

<div class="split">
  <div>
    <h2 class="h2">Create book</h2>
    <form class="form" method="post" action="/admin/books/create">
      <label>Title</label>
      <input name="title" required />

      <label>Author</label>
      <input name="author" required />

      <label>Genre</label>
      <input name="genre" />

      <label>Price</label>
      <input name="price" type="number" step="0.01" value="0" />

      <label>Description</label>
      <textarea name="description" rows="4"></textarea>

      <button class="btn primary" type="submit">Create</button>
    </form>
  </div>

  <div>
    <h2 class="h2">All books</h2>

    <div class="grid">
      {{range .Books}}
        <div class="card">
          <div class="title">{{.Title}}</div>
          <div class="muted">{{.Author}} â€¢ {{.Genre}}</div>
          <div class="price">${{printf "%.2f" .Price}}</div>

          <form method="post" action="/admin/books/delete/{{.ID}}">
            <button class="btn danger" type="submit">Delete</button>
          </form>
        </div>
      {{else}}
        <p class="muted">No books yet.</p>
      {{end}}
    </div>
  </div>
</div>
{{end}}

{{template "base" .}}
