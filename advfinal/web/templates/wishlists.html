{{define "content"}}
<h1 class="h1">Wishlists</h1>

<div class="card" style="margin-bottom:14px;">
  <div class="muted">Your wishlist ID: {{.Wishlist.ID}}</div>
  <div class="muted">
    Anyone can gift your wishlist items (buyer will create an order).
  </div>
</div>

{{if .Rows}}
  <div class="table">
    <div class="table-head">
      <div>Book</div>
      <div>Qty</div>
      <div></div>
    </div>

    {{range .Rows}}
      <div class="table-row">
        <div>
          <div class="card-title">{{.Book.Title}}</div>
          <div class="muted">{{.Book.Author}}</div>
        </div>
        <div>{{.Item.Qty}}</div>
        <div class="muted">Added</div>
      </div>
    {{end}}
  </div>

  <form method="post" action="/wishlists/gift/{{.Wishlist.ID}}" style="margin-top:14px;">
    <button class="btn btn-primary" type="submit">Gift this Wishlist (as buyer)</button>
  </form>
{{else}}
  <p class="muted">Your wishlist is empty. Add books from catalog.</p>
{{end}}

<hr class="hr">

<h2 class="h2">Quick add to Wishlist</h2>
<div class="grid">
  {{range .Books}}
    <div class="card">
      <div class="card-title">{{.Title}}</div>
      <div class="muted">{{.Author}}</div>
      <div class="price">${{printf "%.2f" .Price}}</div>

      <form method="post" action="/wishlists/add/{{.ID}}" style="margin-top:10px;">
        <button class="btn btn-ghost" type="submit">Add</button>
      </form>
    </div>
  {{end}}
</div>
{{end}}

{{template "base" .}}

